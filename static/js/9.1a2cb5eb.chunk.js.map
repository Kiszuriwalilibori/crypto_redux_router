{"version":3,"sources":["components/details.jsx","components/Choice/CryptoCurrencyChoice.jsx","js/FUNCTIONS/getListOfAvailableCryptos.js","components/Choice/SearchSection.jsx","components/Choice/FailedValidationAlert.jsx","components/Choice/BaseCurrencyChoice.jsx","components/LoadedCoinsMessage.jsx","js/FUNCTIONS/validateAndGetHistoricalData.js","js/FUNCTIONS/getCurrentCryptoPrice.js"],"names":["Container","withStyles","root","margin","display","flexDirection","height","alignItems","background","paddingTop","Box","ContainerVerticallyCentered","justifyContent","CryptoCurrencyContainer","width","paddingRight","paddingLeft","marginRight","marginLeft","ColorCircularProgress","color","CircularProgress","_Spinner","React","thickness","size","Button","withRouter","styled","button","createOption","ary","result","value","label","CryptoCurrencyChoice","connect","state","cryptos","list_of_all_cryptos","selected_crypto","dispatch","send_selected_crypto","data","props","select_options","map","length","closeMenuOnSelect","className","placeholder","isClearable","isSearchable","onChange","selectValue","options","toPairs","require","extractListOfCryptos","obj","Data","item","hasOwnProperty","CoinName","Loop","StyledAlert","fontWeight","maxWidth","boxShadow","Alert","FailedValidationAlert","visible","validation_alert_visibility","message","severity","AlertTitle","MyFormControl","borderRadius","animation","border","padding","backgroundColor","fontFamily","paddingBottom","FormControl","BaseCurrencyChoice","base_currency","send_base_currency","component","FormLabel","RadioGroup","aria-label","name","event","target","FormControlLabel","control","Radio","MyAlert","fontSize","LoadedCoinsMessage","open","isLoadedListOfAllCryptos","count","close","hide_loaded_coins_msg","Snackbar","autoHideDuration","onClose","variant","SearchSection","search_results","send_error","send_current","clear_search_results","validate_and_get_historical_data","a","b","redirect","clear","getState","Axios","toggle_validation_alert_visibility","clear_historical","connecting","i","timestamps","reducedLength","push","get","link","historicalPrice","getValue","header","all","then","responseArr","forEach","index","partial","createObject","getKey","send_historical","new_selected_crypto","new_base_currency","search","set_search_results","catch","error","text","code","getListOfAvailableCryptos","x","err","response","send_list_of_all_cryptos","getCurrentCryptoPrice","y","cryptoID","referenceCoin","currentPrice","resp","Response","Object","keys","values","Message","clearLoop","clearInterval","history","useHistory","useMemo","not_found","return_get_current_price","useEffect","setInterval","ID","onClick"],"mappings":"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","file":"static/js/9.1a2cb5eb.chunk.js","sourcesContent":["import * as React from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport styled from \"styled-components\";\r\n\r\nexport const Container = withStyles({\r\n  root: {\r\n    margin: \"0 auto\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    height: \"100vh\",\r\n    alignItems: \"center\",\r\n    background: \"transparent\",\r\n    paddingTop: \"10vh\",\r\n  },\r\n})(Box);\r\n\r\nexport const ContainerVerticallyCentered = withStyles({\r\n  root: {\r\n    justifyContent: \"center\",\r\n  },\r\n})(Container);\r\n\r\nexport const CryptoCurrencyContainer = withStyles({\r\n  root: {\r\n    width: \"100%\",\r\n    paddingRight: \"15px\",\r\n    paddingLeft: \"15px\",\r\n    marginRight: \"auto\",\r\n    marginLeft: \"auto\",\r\n  },\r\n})(Box);\r\n\r\nconst ColorCircularProgress = withStyles({\r\n  root: {\r\n    color: \"rgba(122, 194, 33, 0.8);\",\r\n  },\r\n})(CircularProgress);\r\n\r\nconst _Spinner = React.memo(() => {\r\n  return (\r\n    <ContainerVerticallyCentered>\r\n      <ColorCircularProgress thickness={5} size={100} />\r\n    </ContainerVerticallyCentered>\r\n  );\r\n});\r\n\r\nexport const Spinner = withRouter(_Spinner);\r\n\r\nexport const Button = styled.button`\r\n    display:block;\r\n    animation: fade_in 1s ease-in-out forwards;\r\n    background-color: #759ae9;\r\n    background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #759ae9), color-stop(50%, #376fe0), color-stop(50%, #1a5ad9), color-stop(100%, #2463de));\r\n    background-image: -webkit-linear-gradient(top, #759ae9 0%, #376fe0 50%, #1a5ad9 50%, #2463de 100%);\r\n    background-image: -moz-linear-gradient(top, #759ae9 0%, #376fe0 50%, #1a5ad9 50%, #2463de 100%);\r\n    background-image: -ms-linear-gradient(top, #759ae9 0%, #376fe0 50%, #1a5ad9 50%, #2463de 100%);\r\n    background-image: -o-linear-gradient(top, #759ae9 0%, #376fe0 50%, #1a5ad9 50%, #2463de 100%);\r\n    background-image: linear-gradient(top, #759ae9 0%, #376fe0 50%, #1a5ad9 50%, #2463de 100%);\r\n    border-top: 1px solid #1f58cc;\r\n    border-right: 1px solid #1b4db3;\r\n    border-bottom: 1px solid #174299;\r\n    border-left: 1px solid #1b4db3;\r\n    border-radius: 4px;\r\n    -webkit-box-shadow: inset 0 0 2px 0 rgba(57, 140, 255, 0.8);\r\n    box-shadow: inset 0 0 2px 0 rgba(57, 140, 255, 0.8);\r\n    color: #fff;\r\n//     font: bold 12px/1 \"helvetica neue\", helvetica, arial, sans-serif;\r\n    padding: 7px 0;\r\n    text-shadow: 0 -1px 1px #1a5ad9;\r\n    margin 2vh auto 1vh auto;\r\n    height: 40px;\r\n    font-size:1rem;\r\n    width: 150px; }\r\n    &:hover {\r\n      background-color: #5d89e8;\r\n      background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #5d89e8), color-stop(50%, #2261e0), color-stop(50%, #044bd9), color-stop(100%, #0d53de));\r\n      background-image: -webkit-linear-gradient(top, #5d89e8 0%, #2261e0 50%, #044bd9 50%, #0d53de 100%);\r\n      background-image: -moz-linear-gradient(top, #5d89e8 0%, #2261e0 50%, #044bd9 50%, #0d53de 100%);\r\n      background-image: -ms-linear-gradient(top, #5d89e8 0%, #2261e0 50%, #044bd9 50%, #0d53de 100%);\r\n      background-image: -o-linear-gradient(top, #5d89e8 0%, #2261e0 50%, #044bd9 50%, #0d53de 100%);\r\n      background-image: linear-gradient(top, #5d89e8 0%, #2261e0 50%, #044bd9 50%, #0d53de 100%);\r\n      cursor: pointer; }\r\n    &:active {\r\n      border-top: 1px solid #1b4db3;\r\n      border-right: 1px solid #174299;\r\n      border-bottom: 1px solid #133780;\r\n      border-left: 1px solid #174299;\r\n      \r\n      -webkit-box-shadow: inset 0 0 5px 2px #1a47a0, 0 1px 0 #eeeeee;\r\n      box-shadow: inset 0 0 5px 2px #1a47a0, 0 1px 0 #eeeeee; }\r\n    &:focus {outline:none;}\r\n  \r\n`;\r\n","import * as React from 'react';\r\nimport {send_selected_crypto} from '../../js/ACTIONS/actions';\r\nimport \"react-virtualized-select/styles.css\";\r\nimport 'react-virtualized/styles.css'\r\nimport 'react-virtualized-select/styles.css'\r\nimport VirtualizedSelect from 'react-virtualized-select'\r\nimport {connect} from'react-redux';\r\n\r\nconst createOption =(ary)=>{const result = {}; result.value = ary[0];result.label = ary[1]; return result;}\r\n\r\nconst prepareCryptoCurrencyChoice = (props)=>{\r\n    \r\n    const {cryptos, selected_crypto, send_selected_crypto} = props;\r\n    const select_options = cryptos.map(createOption);\r\n    \r\n    return(\r\n\r\n        (cryptos && cryptos.length)?<VirtualizedSelect \r\n        value ={selected_crypto}\r\n        closeMenuOnSelect ={false}\r\n        className=\"selector-item virtualized\"\r\n        placeholder = \"Wybierz kryptowalutę\"\r\n        isClearable = {true}\r\n        isSearchable ={true}\r\n        onChange ={(selectValue)=>{send_selected_crypto(selectValue)}}\r\n        options = {select_options} />:null\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    cryptos: state.list_of_all_cryptos,\r\n    selected_crypto: state.selected_crypto,\r\n\r\n  });\r\n\r\nconst  mapDispatchToProps = (dispatch) => ({\r\n    send_selected_crypto: (data) => dispatch(send_selected_crypto(data)),\r\n});\r\n\r\nconst CryptoCurrencyChoice = connect(mapStateToProps, mapDispatchToProps)(prepareCryptoCurrencyChoice);\r\nexport default CryptoCurrencyChoice;","\r\nimport {send_error, send_list_of_all_cryptos, hide_loaded_coins_msg } from '../ACTIONS/actions';\r\n\r\nconst linkToListOfAllCryptos = 'https://min-api.cryptocompare.com/data/all/coinlist';\r\n\r\nvar toPairs = require('lodash/toPairs');\r\n\r\nconst extractListOfCryptos = (obj)=>{\r\n    let data = obj.data.Data; \r\n    for(var item in data){if (data.hasOwnProperty(item)){data[item] = (data[item]).CoinName;}}; \r\n    return toPairs(data);};\r\n  \r\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\nexport default function getListOfAvailableCryptos(redirect) {\r\n  return async (dispatch, getState, Axios) => {\r\n    \r\n    const {isLoadedListOfAllCryptos} = getState();\r\n    if (!isLoadedListOfAllCryptos){\r\n      const response = await Axios.get(linkToListOfAllCryptos).catch((error) => {\r\n        const err = {\r\n          text: 'Podczas próby pobrania listy dostępnych kryptowalut wystąpił błąd',\r\n          code: error.message\r\n        };\r\n        dispatch(send_error(err));\r\n        redirect.error();\r\n      });\r\n    response && (dispatch(send_list_of_all_cryptos(extractListOfCryptos(response))));\r\n    } \r\n    else{dispatch(hide_loaded_coins_msg())}\r\n  };\r\n}\r\n","import React from \"react\";\r\nimport CryptoCurrencyChoice from \"./CryptoCurrencyChoice\";\r\nimport { validate_and_get_historical_data } from \"../../js/FUNCTIONS/validateAndGetHistoricalData\";\r\nimport getListOfAvailableCryptos from \"../../js/FUNCTIONS/getListOfAvailableCryptos\";\r\nimport getCurrentCryptoPrice from \"../../js/FUNCTIONS/getCurrentCryptoPrice\";\r\nimport { Container, Button } from \"../details\";\r\nimport FailedValidationAlert from \"./FailedValidationAlert\";\r\nimport { useEffect } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport { connect } from \"react-redux\";\r\nimport { BaseCurrencyChoice } from \"./BaseCurrencyChoice\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport LoadedCoinsMessage from \"../LoadedCoinsMessage\";\r\n\r\nimport {\r\n  send_error,\r\n  send_current,\r\n  clear_search_results,\r\n} from \"../../js/ACTIONS/actions\";\r\n\r\nvar Loop;\r\n//do rozważenia przenieść mniej więcej wszystk z clearloop do tego co się wykonuje po mount\r\n//////////////////////////////////////////////////////////////////////////////\r\n\r\nconst _SearchSection = (props) => {\r\n  const {\r\n    search_results,\r\n    clear_search_results,\r\n    validate_and_get_historical_data,\r\n    getCurrentCryptoPrice,\r\n    getListOfAvailableCryptos,\r\n  } = props;\r\n\r\n  const clearLoop = () => {\r\n    clear_search_results();\r\n    clearInterval(Loop);\r\n  };\r\n\r\n  const history = useHistory();\r\n\r\n  const redirect = React.useMemo(\r\n    () => ({\r\n      not_found: () => {\r\n        history.push(\"/not_found\");\r\n      },\r\n      error: () => {\r\n        history.push(\"/error\");\r\n      },\r\n      data: () => {\r\n        history.push(\"/results\");\r\n      },\r\n      connecting: () => {\r\n        history.push(\"/connecting\");\r\n      },\r\n      search: () => {\r\n        history.push(\"/\");\r\n      },\r\n    }),\r\n    []\r\n  );\r\n\r\n  function return_get_current_price() {\r\n    return getCurrentCryptoPrice(search_results, redirect);\r\n  }\r\n  function proceed_validate() {\r\n    return validate_and_get_historical_data(redirect, clearLoop);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (search_results && search_results.length) {\r\n      redirect.connecting();\r\n      clearLoop();\r\n      return_get_current_price();\r\n      Loop = setInterval(return_get_current_price, 5000);\r\n    }\r\n  }, [search_results]);\r\n\r\n  useEffect(() => {\r\n    getListOfAvailableCryptos(redirect);\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      <Button ID=\"Button\" onClick={proceed_validate}>\r\n        Pokaż dane\r\n      </Button>\r\n      <BaseCurrencyChoice />\r\n      <CryptoCurrencyChoice />\r\n      <FailedValidationAlert />\r\n      <LoadedCoinsMessage />\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  send_error: (data) => dispatch(send_error(data)),\r\n  send_current: (data) => dispatch(send_current(data)),\r\n  clear_search_results: () => dispatch(clear_search_results()),\r\n  validate_and_get_historical_data: (a, b) =>\r\n    dispatch(validate_and_get_historical_data(a, b)),\r\n  getListOfAvailableCryptos: (x) => dispatch(getListOfAvailableCryptos(x)),\r\n  getCurrentCryptoPrice: (x, y) => dispatch(getCurrentCryptoPrice(x, y)),\r\n});\r\n\r\nconst mapStateToProps = (state) => ({\r\n  search_results: state.search_results,\r\n});\r\n\r\nconst SearchSection = withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(_SearchSection)\r\n);\r\nexport default SearchSection;\r\n","import * as React from 'react';\r\nimport {connect} from'react-redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Alert, AlertTitle } from '@material-ui/lab';\r\n\r\nconst StyledAlert = withStyles({\r\n    root: {\r\n      background: '#FADC53',\r\n      color: '#f44336',\r\n      margin: '40px auto',\r\n      fontWeight: 'bold',\r\n      maxWidth: '300px',\r\n      boxShadow: 'inset 0 0 5px #1E1F26, 0 1px 2px rgba(0,0,0,0.07), 0 2px 4px rgba(0,0,0,0.07), 0 4px 8px rgba(0,0,0,0.07), 0 8px 16px rgba(0,0,0,0.07), 0 16px 32px rgba(0,0,0,0.07), 0 32px 64px rgba(0,0,0,0.07)',\r\n    },\r\n},)(Alert);\r\n \r\nconst prepareFailedValidationAlert = ({visible, message})=> {\r\n    \r\n  return (visible? <StyledAlert severity=\"error\"><AlertTitle>Uwaga!!!</AlertTitle>{message}</ StyledAlert>:null);\r\n}\r\n  \r\nlet mapStateToProps = (state) => ({  \r\n  visible: state.validation_alert_visibility,\r\n  message:'Nie wybrano waluty, kryptowaluty albo obu',\r\n});\r\n\r\nconst FailedValidationAlert = connect(mapStateToProps, null)(prepareFailedValidationAlert);\r\nexport default FailedValidationAlert;\r\n  ","import React from 'react';\r\nimport {connect} from'react-redux';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport {send_base_currency} from '../../js/ACTIONS/actions';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst MyFormControl = withStyles({\r\n  root: {\r\n    borderRadius: '2px',\r\n    animation: 'fade_in 1s ease-in-out forwards',\r\n    border: '2px solid #1E1F26',\r\n    padding: '20px',\r\n    width: '300px',\r\n    margin: '2vh 0',\r\n    boxShadow: 'inset 0 0 5px #1E1F26, 0 1px 2px rgba(0,0,0,0.07), 0 2px 4px rgba(0,0,0,0.07), 0 4px 8px rgba(0,0,0,0.07), 0 8px 16px rgba(0,0,0,0.07), 0 16px 32px rgba(0,0,0,0.07), 0 32px 64px rgba(0,0,0,0.07)',\r\n    backgroundColor: '#2C303A',\r\n    color: 'white',\r\n    '&:hover':{border: '2px solid #EE760A'}, \r\n    '& .MuiFormLabel-root':{color: 'white',fontFamily: '\"Lato\", sans-serif', paddingBottom: '5px' },\r\n    '& .MuiFormGroup-root':{flexDirection:'row', justifyContent:'space-around',},\r\n    '& .MuiRadio-colorSecondary.Mui-checked':{color: '#EE760A'},\r\n  },\r\n})(FormControl);\r\n\r\n\r\n  const prepareRadioButtonsGroup =(props)=> {\r\n  \r\n  const{base_currency, send_base_currency} = props;\r\n  const handleChange = (event) => {send_base_currency(event.target.value);};\r\n\r\n  return (\r\n    <MyFormControl component=\"fieldset\">\r\n      <FormLabel component=\"legend\">Waluta odniesienia</FormLabel>\r\n      <RadioGroup aria-label=\"currency\" name=\"currency\" value={base_currency} onChange={handleChange}>\r\n        <FormControlLabel value=\"PLN\" control={<Radio />} label=\"PLN\" />\r\n        <FormControlLabel value=\"USD\" control={<Radio />} label=\"USD\" />\r\n        <FormControlLabel value=\"EUR\" control={<Radio />} label=\"EUR\" />\r\n      </RadioGroup>\r\n    </MyFormControl>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({  \r\nbase_currency: state.base_currency,\r\n});\r\n\r\nconst  mapDispatchToProps = (dispatch) => ({\r\n  send_base_currency: (data) => dispatch(send_base_currency(data)),\r\n});\r\n\r\nexport const BaseCurrencyChoice = connect(mapStateToProps, mapDispatchToProps)(prepareRadioButtonsGroup);\r\n","import * as React from \"react\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport { Alert } from \"@material-ui/lab\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { connect } from \"react-redux\";\r\nimport { hide_loaded_coins_msg } from \"../js/ACTIONS/actions\";\r\n\r\nconst MyAlert = withStyles({\r\n  root: {\r\n    background: \"#688B69;\",\r\n    color: \"#F5F2AA\",\r\n    fontSize: \"1.25rem\",\r\n    border: \"1px solid 4d684d\",\r\n    boxShadow:\r\n      \"inset 0 0 5px #4d684d, 0 1px 2px rgba(0,0,0,0.07), 0 2px 4px rgba(0,0,0,0.07), 0 4px 8px rgba(0,0,0,0.07), 0 8px 16px rgba(0,0,0,0.07), 0 16px 32px rgba(0,0,0,0.07), 0 32px 64px rgba(0,0,0,0.07)\",\r\n  },\r\n})(Alert);\r\n\r\nexport const prepareLoadedCoinsMessage = (props) => {\r\n  const { open, close, count } = props;\r\n\r\n  return (\r\n    <Snackbar open={open} autoHideDuration={6000} onClose={close}>\r\n      <MyAlert severity=\"success\" variant=\"filled\">\r\n        Poprawnie pobrano tablicę z dostępnymi kryptowalutami.\r\n        <br />\r\n        Łącznie znaleziono dane dla {count} kryptowalut.\r\n        <br />\r\n      </MyAlert>\r\n    </Snackbar>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  close: () => dispatch(hide_loaded_coins_msg()),\r\n});\r\n\r\nconst mapStateToProps = (state) => ({\r\n  open: state.isLoadedListOfAllCryptos,\r\n  count: [...state.list_of_all_cryptos].length,\r\n});\r\n\r\nconst LoadedCoinsMessage = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(prepareLoadedCoinsMessage);\r\n\r\nexport default LoadedCoinsMessage;","import {\r\n  set_search_results,\r\n  toggle_validation_alert_visibility,\r\n  send_historical,\r\n  send_error,\r\n  clear_historical,\r\n} from \"../ACTIONS/actions\";\r\nimport { timestamps, link, createObject } from \"./functions\";\r\n\r\nexport function validate_and_get_historical_data(redirect, clear) {\r\n  return (dispatch, getState, Axios) => {\r\n    const { selected_crypto, base_currency } = getState();\r\n    if (selected_crypto && base_currency) {\r\n      dispatch(toggle_validation_alert_visibility(false));\r\n      dispatch(clear_historical());\r\n      redirect.connecting();\r\n      const ary = [];\r\n      for (let i = 0; i <= timestamps.reducedLength(); i++) {\r\n        ary.push(\r\n          Axios.get(\r\n            link.historicalPrice(\r\n              selected_crypto.value,\r\n              base_currency,\r\n              timestamps.getValue(i)\r\n            ),\r\n            link.header\r\n          )\r\n        );\r\n      }\r\n      const result = [];\r\n      Axios.all(ary)\r\n        .then((responseArr) => {\r\n          responseArr.forEach((item, index) => {\r\n            let partial = item.data[base_currency]\r\n              ? item.data[base_currency]\r\n              : \"n/a\";\r\n            result.push(createObject(timestamps.getKey(index), partial));\r\n          });\r\n          result.push(clear);\r\n          dispatch(send_historical(result));\r\n          const new_selected_crypto = selected_crypto;\r\n          const new_base_currency = base_currency;\r\n          redirect.search();\r\n          dispatch(\r\n            set_search_results([\r\n              new_selected_crypto.value,\r\n              new_base_currency,\r\n              new_selected_crypto.label,\r\n            ])\r\n          );\r\n        })\r\n        .catch((error) => {\r\n          redirect.error();\r\n          dispatch(\r\n            send_error({\r\n              text:\r\n                \"Podczas pobierania historycznych danych dla \" +\r\n                selected_crypto.label +\r\n                \" wystąpił błąd:\",\r\n              code: error.message,\r\n            })\r\n          );\r\n        });\r\n    } else {\r\n      dispatch(toggle_validation_alert_visibility(true));\r\n    }\r\n  };\r\n}\r\n","import { send_error, send_current } from \"../ACTIONS/actions\";\r\n\r\nimport { link } from \"./functions\";\r\n\r\nexport default function getCurrentCryptoPrice(search_results, redirect) {\r\n  return async (dispatch, getState, Axios) => {\r\n    const [cryptoID, referenceCoin, text] = search_results;\r\n    const resp = await Axios.get(\r\n      link.currentPrice(cryptoID, referenceCoin),\r\n      link.header\r\n    ).catch((error) => {\r\n      redirect.error();\r\n      dispatch(\r\n        send_error({\r\n          text:\r\n            \"Podczas pobierania aktualnej wartości  dla \" +\r\n            cryptoID +\r\n            \"wystapił błąd:\",\r\n          code: error.message,\r\n        })\r\n      );\r\n\r\n      return;\r\n    });\r\n\r\n    if (resp && resp.data.Response !== \"Error\") {\r\n      const data = [\r\n        Object.keys(resp.data)[0],\r\n        Object.values(resp.data)[0],\r\n        text,\r\n      ];\r\n      dispatch(send_current(data));\r\n      redirect.data();\r\n    } else {\r\n      redirect.error();\r\n      dispatch(\r\n        send_error({\r\n          text:\r\n            \"Aktualnie pobierana wartość dla \" +\r\n            cryptoID +\r\n            \" jest nieprawidłowa\",\r\n          code: resp.data.Message,\r\n        })\r\n      );\r\n    } \r\n  };\r\n}\r\n"],"sourceRoot":""}