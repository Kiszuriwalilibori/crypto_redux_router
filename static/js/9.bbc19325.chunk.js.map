{"version":3,"sources":["components/details.jsx","components/Choice/CryptoCurrencyChoice.jsx","js/FUNCTIONS/getListOfAvailableCryptos.js","components/Choice/SearchSection.jsx","components/Choice/FailedValidationAlert.jsx","components/Choice/BaseCurrencyChoice.jsx","components/LoadedCoinsMessage.jsx","js/FUNCTIONS/validateAndGetHistoricalData.js","js/FUNCTIONS/getCurrentCryptoPrice.js"],"names":["Container","withStyles","root","margin","display","flexDirection","height","alignItems","background","paddingTop","Box","ContainerVerticallyCentered","justifyContent","CryptoCurrencyContainer","width","paddingRight","paddingLeft","marginRight","marginLeft","ColorCircularProgress","color","CircularProgress","_Spinner","React","thickness","size","Button","withRouter","styled","button","createOption","ary","result","value","label","CryptoCurrencyChoice","connect","state","cryptos","list_of_all_cryptos","selectedCrypto","selected_crypto","dispatch","sendSelectedCrypto","data","send_selected_crypto","props","selectOptions","map","length","closeMenuOnSelect","className","placeholder","isClearable","isSearchable","onChange","selectValue","options","toPairs","require","extractListOfCryptos","obj","Data","item","hasOwnProperty","CoinName","Loop","StyledAlert","fontWeight","maxWidth","boxShadow","Alert","FailedValidationAlert","visible","validation_alert_visibility","message","severity","AlertTitle","MyFormControl","borderRadius","animation","border","padding","backgroundColor","fontFamily","paddingBottom","FormControl","BaseCurrencyChoice","baseCurrency","base_currency","sendBaseCurrency","send_base_currency","component","FormLabel","RadioGroup","aria-label","name","event","target","FormControlLabel","control","Radio","MyAlert","fontSize","LoadedCoinsMessage","open","isLoadedListOfAllCryptos","count","close","hide_loaded_coins_msg","Snackbar","autoHideDuration","onClose","variant","SearchSection","searchResults","search_results","clearSearchResults","clear_search_results","validateAndGetHistoricals","a","b","redirect","clear","getState","Axios","toggle_validation_alert_visibility","clear_historical","connecting","i","timestamps","reducedLength","push","get","link","historicalPrice","getValue","header","all","then","responseArr","forEach","index","partial","createObject","getKey","send_historical","new_selected_crypto","new_base_currency","search","set_search_results","catch","error","send_error","text","code","getListOfAvailableCryptos","x","err","response","send_list_of_all_cryptos","getCurrentCryptoPrice","y","cryptoID","referenceCoin","currentPrice","resp","Response","Object","keys","values","send_current","Message","clearLoop","clearInterval","history","useHistory","useMemo","not_found","returnGetCurrentPrice","useEffect","setInterval","ID","onClick"],"mappings":"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","file":"static/js/9.bbc19325.chunk.js","sourcesContent":["import * as React from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport styled from \"styled-components\";\r\n\r\nexport const Container = withStyles({\r\n  root: {\r\n    margin: \"0 auto\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    height: \"100vh\",\r\n    alignItems: \"center\",\r\n    background: \"transparent\",\r\n    paddingTop: \"10vh\",\r\n  },\r\n})(Box);\r\n\r\nexport const ContainerVerticallyCentered = withStyles({\r\n  root: {\r\n    justifyContent: \"center\",\r\n  },\r\n})(Container);\r\n\r\nexport const CryptoCurrencyContainer = withStyles({\r\n  root: {\r\n    width: \"100%\",\r\n    paddingRight: \"15px\",\r\n    paddingLeft: \"15px\",\r\n    marginRight: \"auto\",\r\n    marginLeft: \"auto\",\r\n  },\r\n})(Box);\r\n\r\nconst ColorCircularProgress = withStyles({\r\n  root: {\r\n    color: \"rgba(122, 194, 33, 0.8);\",\r\n  },\r\n})(CircularProgress);\r\n\r\nconst _Spinner = React.memo(() => {\r\n  return (\r\n    <ContainerVerticallyCentered>\r\n      <ColorCircularProgress thickness={5} size={100} />\r\n    </ContainerVerticallyCentered>\r\n  );\r\n});\r\n\r\nexport const Spinner = withRouter(_Spinner);\r\n\r\nexport const Button = styled.button`\r\n    display:block;\r\n    animation: fade_in 1s ease-in-out forwards;\r\n    background-color: #759ae9;\r\n    background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #759ae9), color-stop(50%, #376fe0), color-stop(50%, #1a5ad9), color-stop(100%, #2463de));\r\n    background-image: -webkit-linear-gradient(top, #759ae9 0%, #376fe0 50%, #1a5ad9 50%, #2463de 100%);\r\n    background-image: -moz-linear-gradient(top, #759ae9 0%, #376fe0 50%, #1a5ad9 50%, #2463de 100%);\r\n    background-image: -ms-linear-gradient(top, #759ae9 0%, #376fe0 50%, #1a5ad9 50%, #2463de 100%);\r\n    background-image: -o-linear-gradient(top, #759ae9 0%, #376fe0 50%, #1a5ad9 50%, #2463de 100%);\r\n    background-image: linear-gradient(top, #759ae9 0%, #376fe0 50%, #1a5ad9 50%, #2463de 100%);\r\n    border-top: 1px solid #1f58cc;\r\n    border-right: 1px solid #1b4db3;\r\n    border-bottom: 1px solid #174299;\r\n    border-left: 1px solid #1b4db3;\r\n    border-radius: 4px;\r\n    -webkit-box-shadow: inset 0 0 2px 0 rgba(57, 140, 255, 0.8);\r\n    box-shadow: inset 0 0 2px 0 rgba(57, 140, 255, 0.8);\r\n    color: #fff;\r\n//     font: bold 12px/1 \"helvetica neue\", helvetica, arial, sans-serif;\r\n    padding: 7px 0;\r\n    text-shadow: 0 -1px 1px #1a5ad9;\r\n    margin 2vh auto 1vh auto;\r\n    height: 40px;\r\n    font-size:1rem;\r\n    width: 150px; }\r\n    &:hover {\r\n      background-color: #5d89e8;\r\n      background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #5d89e8), color-stop(50%, #2261e0), color-stop(50%, #044bd9), color-stop(100%, #0d53de));\r\n      background-image: -webkit-linear-gradient(top, #5d89e8 0%, #2261e0 50%, #044bd9 50%, #0d53de 100%);\r\n      background-image: -moz-linear-gradient(top, #5d89e8 0%, #2261e0 50%, #044bd9 50%, #0d53de 100%);\r\n      background-image: -ms-linear-gradient(top, #5d89e8 0%, #2261e0 50%, #044bd9 50%, #0d53de 100%);\r\n      background-image: -o-linear-gradient(top, #5d89e8 0%, #2261e0 50%, #044bd9 50%, #0d53de 100%);\r\n      background-image: linear-gradient(top, #5d89e8 0%, #2261e0 50%, #044bd9 50%, #0d53de 100%);\r\n      cursor: pointer; }\r\n    &:active {\r\n      border-top: 1px solid #1b4db3;\r\n      border-right: 1px solid #174299;\r\n      border-bottom: 1px solid #133780;\r\n      border-left: 1px solid #174299;\r\n      \r\n      -webkit-box-shadow: inset 0 0 5px 2px #1a47a0, 0 1px 0 #eeeeee;\r\n      box-shadow: inset 0 0 5px 2px #1a47a0, 0 1px 0 #eeeeee; }\r\n    &:focus {outline:none;}\r\n  \r\n`;\r\n","import * as React from 'react';\r\nimport {send_selected_crypto} from '../../js/ACTIONS/actions';\r\nimport \"react-virtualized-select/styles.css\";\r\nimport 'react-virtualized/styles.css'\r\nimport 'react-virtualized-select/styles.css'\r\nimport VirtualizedSelect from 'react-virtualized-select'\r\nimport {connect} from'react-redux';\r\n\r\nconst createOption =(ary)=>{const result = {}; result.value = ary[0];result.label = ary[1]; return result;}\r\n\r\nconst prepareCryptoCurrencyChoice = (props)=>{\r\n    \r\n    const {cryptos, selectedCrypto, sendSelectedCrypto} = props;\r\n    const selectOptions = cryptos.map(createOption);\r\n    \r\n    return(\r\n\r\n        (cryptos && cryptos.length)?<VirtualizedSelect \r\n        value ={selectedCrypto}\r\n        closeMenuOnSelect ={false}\r\n        className=\"selector-item virtualized\"\r\n        placeholder = \"Wybierz kryptowalutę\"\r\n        isClearable = {true}\r\n        isSearchable ={true}\r\n        onChange ={(selectValue)=>{sendSelectedCrypto(selectValue)}}\r\n        options = {selectOptions} />:null\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    cryptos: state.list_of_all_cryptos,\r\n    selectedCrypto: state.selected_crypto,\r\n\r\n  });\r\n\r\nconst  mapDispatchToProps = (dispatch) => ({\r\n    sendSelectedCrypto: (data) => dispatch(send_selected_crypto(data)),\r\n});\r\n\r\nconst CryptoCurrencyChoice = connect(mapStateToProps, mapDispatchToProps)(prepareCryptoCurrencyChoice);\r\nexport default CryptoCurrencyChoice;","\r\nimport {send_error, send_list_of_all_cryptos, hide_loaded_coins_msg } from '../ACTIONS/actions';\r\n\r\nconst linkToListOfAllCryptos = 'https://min-api.cryptocompare.com/data/all/coinlist';\r\n\r\nvar toPairs = require('lodash/toPairs');\r\n\r\nconst extractListOfCryptos = (obj)=>{\r\n    let data = obj.data.Data; \r\n    for(var item in data){if (data.hasOwnProperty(item)){data[item] = (data[item]).CoinName;}}; \r\n    return toPairs(data);};\r\n  \r\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\nexport default function getListOfAvailableCryptos(redirect) {\r\n  return async (dispatch, getState, Axios) => {\r\n    \r\n    const {isLoadedListOfAllCryptos} = getState();\r\n    if (!isLoadedListOfAllCryptos){\r\n      const response = await Axios.get(linkToListOfAllCryptos).catch((error) => {\r\n        const err = {\r\n          text: 'Podczas próby pobrania listy dostępnych kryptowalut wystąpił błąd',\r\n          code: error.message\r\n        };\r\n        dispatch(send_error(err));\r\n        redirect.error();\r\n      });\r\n    response && (dispatch(send_list_of_all_cryptos(extractListOfCryptos(response))));\r\n    } \r\n    else{dispatch(hide_loaded_coins_msg())}\r\n  };\r\n}\r\n","import React from \"react\";\r\nimport CryptoCurrencyChoice from \"./CryptoCurrencyChoice\";\r\nimport { validate_and_get_historical_data } from \"../../js/FUNCTIONS/validateAndGetHistoricalData\";\r\nimport getListOfAvailableCryptos from \"../../js/FUNCTIONS/getListOfAvailableCryptos\";\r\nimport getCurrentCryptoPrice from \"../../js/FUNCTIONS/getCurrentCryptoPrice\";\r\nimport { Container, Button } from \"../details\";\r\nimport FailedValidationAlert from \"./FailedValidationAlert\";\r\nimport { useEffect } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport { connect } from \"react-redux\";\r\nimport { BaseCurrencyChoice } from \"./BaseCurrencyChoice\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport LoadedCoinsMessage from \"../LoadedCoinsMessage\";\r\n\r\nimport {\r\n  //send_error,\r\n  //send_current,\r\n  clear_search_results,\r\n} from \"../../js/ACTIONS/actions\";\r\n\r\nvar Loop;\r\n//do rozważenia przenieść mniej więcej wszystk z clearloop do tego co się wykonuje po mount\r\n//////////////////////////////////////////////////////////////////////////////\r\n\r\nconst UnconnectedSearchSection = (props) => {\r\n  const {\r\n    searchResults,\r\n    clearSearchResults,\r\n    validateAndGetHistoricals,\r\n    getCurrentCryptoPrice,\r\n    getListOfAvailableCryptos,\r\n  } = props;\r\n\r\n  const clearLoop = () => {\r\n    clearSearchResults();\r\n    clearInterval(Loop);\r\n  };\r\n\r\n  const history = useHistory();\r\n\r\n  const redirect = React.useMemo(\r\n    () => ({\r\n      not_found: () => {\r\n        history.push(\"/not_found\");\r\n      },\r\n      error: () => {\r\n        history.push(\"/error\");\r\n      },\r\n      data: () => {\r\n        history.push(\"/results\");\r\n      },\r\n      connecting: () => {\r\n        history.push(\"/connecting\");\r\n      },\r\n      search: () => {\r\n        history.push(\"/\");\r\n      },\r\n    }),\r\n    []\r\n  );\r\n\r\n  function returnGetCurrentPrice() {\r\n    return getCurrentCryptoPrice(searchResults, redirect);\r\n  }\r\n  function proceedValidate() {\r\n    return validateAndGetHistoricals(redirect, clearLoop);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (searchResults && searchResults.length) {\r\n      redirect.connecting();\r\n      clearLoop();\r\n      returnGetCurrentPrice();\r\n      Loop = setInterval(returnGetCurrentPrice, 5000);\r\n    }\r\n  }, [searchResults]);\r\n\r\n  useEffect(() => {\r\n    getListOfAvailableCryptos(redirect);\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      <Button ID=\"Button\" onClick={proceedValidate}>\r\n        Pokaż dane\r\n      </Button>\r\n      <BaseCurrencyChoice />\r\n      <CryptoCurrencyChoice />\r\n      <FailedValidationAlert />\r\n      <LoadedCoinsMessage />\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  //send_error: (data) => dispatch(send_error(data)),\r\n  //send_current: (data) => dispatch(send_current(data)),\r\n  clearSearchResults: () => dispatch(clear_search_results()),\r\n  validateAndGetHistoricals: (a, b) =>\r\n    dispatch(validate_and_get_historical_data(a, b)),\r\n  getListOfAvailableCryptos: (x) => dispatch(getListOfAvailableCryptos(x)),\r\n  getCurrentCryptoPrice: (x, y) => dispatch(getCurrentCryptoPrice(x, y)),\r\n});\r\n\r\nconst mapStateToProps = (state) => ({\r\n  searchResults: state.search_results,\r\n});\r\n\r\nconst SearchSection = withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(UnconnectedSearchSection)\r\n);\r\nexport default SearchSection;\r\n","import * as React from 'react';\r\nimport {connect} from'react-redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Alert, AlertTitle } from '@material-ui/lab';\r\n\r\nconst StyledAlert = withStyles({\r\n    root: {\r\n      background: '#FADC53',\r\n      color: '#f44336',\r\n      margin: '40px auto',\r\n      fontWeight: 'bold',\r\n      maxWidth: '300px',\r\n      boxShadow: 'inset 0 0 5px #1E1F26, 0 1px 2px rgba(0,0,0,0.07), 0 2px 4px rgba(0,0,0,0.07), 0 4px 8px rgba(0,0,0,0.07), 0 8px 16px rgba(0,0,0,0.07), 0 16px 32px rgba(0,0,0,0.07), 0 32px 64px rgba(0,0,0,0.07)',\r\n    },\r\n},)(Alert);\r\n \r\nconst prepareFailedValidationAlert = ({visible, message})=> {\r\n    \r\n  return (visible? <StyledAlert severity=\"error\"><AlertTitle>Uwaga!!!</AlertTitle>{message}</ StyledAlert>:null);\r\n}\r\n  \r\nlet mapStateToProps = (state) => ({  \r\n  visible: state.validation_alert_visibility,\r\n  message:'Nie wybrano waluty, kryptowaluty albo obu',\r\n});\r\n\r\nconst FailedValidationAlert = connect(mapStateToProps, null)(prepareFailedValidationAlert);\r\nexport default FailedValidationAlert;\r\n  ","import React from 'react';\r\nimport {connect} from'react-redux';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport {send_base_currency} from '../../js/ACTIONS/actions';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst MyFormControl = withStyles({\r\n  root: {\r\n    borderRadius: '2px',\r\n    animation: 'fade_in 1s ease-in-out forwards',\r\n    border: '2px solid #1E1F26',\r\n    padding: '20px',\r\n    width: '300px',\r\n    margin: '2vh 0',\r\n    boxShadow: 'inset 0 0 5px #1E1F26, 0 1px 2px rgba(0,0,0,0.07), 0 2px 4px rgba(0,0,0,0.07), 0 4px 8px rgba(0,0,0,0.07), 0 8px 16px rgba(0,0,0,0.07), 0 16px 32px rgba(0,0,0,0.07), 0 32px 64px rgba(0,0,0,0.07)',\r\n    backgroundColor: '#2C303A',\r\n    color: 'white',\r\n    '&:hover':{border: '2px solid #EE760A'}, \r\n    '& .MuiFormLabel-root':{color: 'white',fontFamily: '\"Lato\", sans-serif', paddingBottom: '5px' },\r\n    '& .MuiFormGroup-root':{flexDirection:'row', justifyContent:'space-around',},\r\n    '& .MuiRadio-colorSecondary.Mui-checked':{color: '#EE760A'},\r\n  },\r\n})(FormControl);\r\n\r\n\r\n  const prepareRadioButtonsGroup =(props)=> {\r\n  \r\n  const{baseCurrency, sendBaseCurrency} = props;\r\n  const handleChange = (event) => {sendBaseCurrency(event.target.value);};\r\n\r\n  return (\r\n    <MyFormControl component=\"fieldset\">\r\n      <FormLabel component=\"legend\">Waluta odniesienia</FormLabel>\r\n      <RadioGroup aria-label=\"currency\" name=\"currency\" value={baseCurrency} onChange={handleChange}>\r\n        <FormControlLabel value=\"PLN\" control={<Radio />} label=\"PLN\" />\r\n        <FormControlLabel value=\"USD\" control={<Radio />} label=\"USD\" />\r\n        <FormControlLabel value=\"EUR\" control={<Radio />} label=\"EUR\" />\r\n      </RadioGroup>\r\n    </MyFormControl>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({  \r\nbaseCurrency: state.base_currency,\r\n});\r\n\r\nconst  mapDispatchToProps = (dispatch) => ({\r\n  sendBaseCurrency: (data) => dispatch(send_base_currency(data)),\r\n});\r\n\r\nexport const BaseCurrencyChoice = connect(mapStateToProps, mapDispatchToProps)(prepareRadioButtonsGroup);\r\n","import * as React from \"react\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport { Alert } from \"@material-ui/lab\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { connect } from \"react-redux\";\r\nimport { hide_loaded_coins_msg } from \"../js/ACTIONS/actions\";\r\n\r\nconst MyAlert = withStyles({\r\n  root: {\r\n    background: \"#688B69;\",\r\n    color: \"#F5F2AA\",\r\n    fontSize: \"1.25rem\",\r\n    border: \"1px solid 4d684d\",\r\n    boxShadow:\r\n      \"inset 0 0 5px #4d684d, 0 1px 2px rgba(0,0,0,0.07), 0 2px 4px rgba(0,0,0,0.07), 0 4px 8px rgba(0,0,0,0.07), 0 8px 16px rgba(0,0,0,0.07), 0 16px 32px rgba(0,0,0,0.07), 0 32px 64px rgba(0,0,0,0.07)\",\r\n  },\r\n})(Alert);\r\n\r\nexport const prepareLoadedCoinsMessage = (props) => {\r\n  const { open, close, count } = props;\r\n\r\n  return (\r\n    <Snackbar open={open} autoHideDuration={6000} onClose={close}>\r\n      <MyAlert severity=\"success\" variant=\"filled\">\r\n        Poprawnie pobrano tablicę z dostępnymi kryptowalutami.\r\n        <br />\r\n        Łącznie znaleziono dane dla {count} kryptowalut.\r\n        <br />\r\n      </MyAlert>\r\n    </Snackbar>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  close: () => dispatch(hide_loaded_coins_msg()),\r\n});\r\n\r\nconst mapStateToProps = (state) => ({\r\n  open: state.isLoadedListOfAllCryptos,\r\n  count: [...state.list_of_all_cryptos].length,\r\n});\r\n\r\nconst LoadedCoinsMessage = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(prepareLoadedCoinsMessage);\r\n\r\nexport default LoadedCoinsMessage;","import {\r\n  set_search_results,\r\n  toggle_validation_alert_visibility,\r\n  send_historical,\r\n  send_error,\r\n  clear_historical,\r\n} from \"../ACTIONS/actions\";\r\nimport { timestamps, link, createObject } from \"./functions\";\r\n\r\nexport function validate_and_get_historical_data(redirect, clear) {\r\n  return (dispatch, getState, Axios) => {\r\n    const { selected_crypto, base_currency } = getState();\r\n    if (selected_crypto && base_currency) {\r\n      dispatch(toggle_validation_alert_visibility(false));\r\n      dispatch(clear_historical());\r\n      redirect.connecting();\r\n      const ary = [];\r\n      for (let i = 0; i <= timestamps.reducedLength(); i++) {\r\n        ary.push(\r\n          Axios.get(\r\n            link.historicalPrice(\r\n              selected_crypto.value,\r\n              base_currency,\r\n              timestamps.getValue(i)\r\n            ),\r\n            link.header\r\n          )\r\n        );\r\n      }\r\n      const result = [];\r\n      Axios.all(ary)\r\n        .then((responseArr) => {\r\n          responseArr.forEach((item, index) => {\r\n            let partial = item.data[base_currency]\r\n              ? item.data[base_currency]\r\n              : \"n/a\";\r\n            result.push(createObject(timestamps.getKey(index), partial));\r\n          });\r\n          result.push(clear);\r\n          dispatch(send_historical(result));\r\n          const new_selected_crypto = selected_crypto;\r\n          const new_base_currency = base_currency;\r\n          redirect.search();\r\n          dispatch(\r\n            set_search_results([\r\n              new_selected_crypto.value,\r\n              new_base_currency,\r\n              new_selected_crypto.label,\r\n            ])\r\n          );\r\n        })\r\n        .catch((error) => {\r\n          redirect.error();\r\n          dispatch(\r\n            send_error({\r\n              text:\r\n                \"Podczas pobierania historycznych danych dla \" +\r\n                selected_crypto.label +\r\n                \" wystąpił błąd:\",\r\n              code: error.message,\r\n            })\r\n          );\r\n        });\r\n    } else {\r\n      dispatch(toggle_validation_alert_visibility(true));\r\n    }\r\n  };\r\n}\r\n","import { send_error, send_current } from \"../ACTIONS/actions\";\r\n\r\nimport { link } from \"./functions\";\r\n\r\nexport default function getCurrentCryptoPrice(search_results, redirect) {\r\n  return async (dispatch, getState, Axios) => {\r\n    const [cryptoID, referenceCoin, text] = search_results;\r\n    const resp = await Axios.get(\r\n      link.currentPrice(cryptoID, referenceCoin),\r\n      link.header\r\n    ).catch((error) => {\r\n      redirect.error();\r\n      dispatch(\r\n        send_error({\r\n          text:\r\n            \"Podczas pobierania aktualnej wartości  dla \" +\r\n            cryptoID +\r\n            \"wystapił błąd:\",\r\n          code: error.message,\r\n        })\r\n      );\r\n\r\n      return;\r\n    });\r\n\r\n    if (resp && resp.data.Response !== \"Error\") {\r\n      const data = [\r\n        Object.keys(resp.data)[0],\r\n        Object.values(resp.data)[0],\r\n        text,\r\n      ];\r\n      dispatch(send_current(data));\r\n      redirect.data();\r\n    } else {\r\n      redirect.error();\r\n      dispatch(\r\n        send_error({\r\n          text:\r\n            \"Aktualnie pobierana wartość dla \" +\r\n            cryptoID +\r\n            \" jest nieprawidłowa\",\r\n          code: resp.data.Message,\r\n        })\r\n      );\r\n    } \r\n  };\r\n}\r\n"],"sourceRoot":""}